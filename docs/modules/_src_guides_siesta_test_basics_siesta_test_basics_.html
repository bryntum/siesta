<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>&quot;src/guides/siesta_test_basics/siesta_test_basics&quot; | @bryntum/siesta</title>
	<meta name="description" content="Documentation for @bryntum/siesta">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">@bryntum/siesta</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="_src_guides_siesta_test_basics_siesta_test_basics_.html">&quot;src/guides/siesta_test_basics/siesta_test_basics&quot;</a>
				</li>
			</ul>
			<h1>Module &quot;src/guides/siesta_test_basics/siesta_test_basics&quot;</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Variables</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-variable tsd-parent-kind-module"><a href="_src_guides_siesta_test_basics_siesta_test_basics_.html#siestatestbasicsguide" class="tsd-kind-icon">Siesta<wbr>Test<wbr>Basics<wbr>Guide</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Variables</h2>
				<section class="tsd-panel tsd-member tsd-kind-variable tsd-parent-kind-module">
					<a name="siestatestbasicsguide" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagConst">Const</span> Siesta<wbr>Test<wbr>Basics<wbr>Guide</h3>
					<div class="tsd-signature tsd-kind-icon">Siesta<wbr>Test<wbr>Basics<wbr>Guide<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">""</span><span class="tsd-signature-symbol"> = &quot;&quot;</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in src/guides/siesta_test_basics/siesta_test_basics.ts:4</li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<a href="#siesta-common-concepts" id="siesta-common-concepts" style="color: inherit; text-decoration: none;">
								<h1>Siesta common concepts</h1>
							</a>
							<p>This guide contains the common basic concepts about Siesta tests. It does not target any specific execution environment, like browser or Node.js, instead it assumes plain EcmaScript setup.</p>
							<a href="#tests-and-assertions" id="tests-and-assertions" style="color: inherit; text-decoration: none;">
								<h1>Tests and assertions</h1>
							</a>
							<p>Siesta test is a regular JavaScript file. By convention, it should have <code>*.t.js</code> extension. This is in order to be able to distinguish the test files from other JavaScript source files.</p>
							<p>All test files of a certain software project are called &quot;test suite&quot;. Test suite is usually placed in the <code>tests</code> directory of your project, however this is not enforced and up to the user. Some users prefer to place the test files near the corresponding source files. Choose what is most appropriate for your needs.</p>
							<p>Test file is structured as a tree. The &quot;parent&quot; nodes of the tree are called &quot;test sections&quot; or &quot;sub-tests&quot;. They are created using the <a href="_src_siesta_test_test_.html#it">it</a> call. </p>
							<p>The 1st argument of the <code>it</code> call is a configuration object for test <a href="../classes/_src_siesta_test_testdescriptor_.testdescriptor.html">descriptor</a>. In the simplest form it&#39;s a string, containing the title of the test. It can also be an object with various configuration options to customize the test behavior. The 2nd argument of the <code>it</code> call is a test function, it can be <code>async</code> if needed. The 1st argument, passed to every test function, is a <a href="../classes/_src_siesta_test_test_.test.html">Test</a> instance, usually called <code>t</code> for brevity. </p>
							<p>The &quot;leaf&quot; nodes of the test file tree are called &quot;assertions&quot;. &quot;Assertion&quot; is an arbitrary statement about the code or data being tested. It can be either true - <em>assertion pass</em>, or false - <em>assertion fail</em>. Assertion can have arbitrary meaning, ranging from very simple like &quot;this variable is equal to that variable&quot;, to complex and domain specific: &quot;this instance of <code>EventEmitter</code> will fire this event exactly N times during the following X milliseconds&quot;.</p>
							<p>To create an assertion, one should call an assertion method of the <a href="../classes/_src_siesta_test_test_.test.html">Test</a> instance. Every assertion method accepts an optional <code>description</code> argument, which will be used in the output log.</p>
							<p>For example, the simplest Siesta assertion is <a href="../classes/_src_siesta_test_test_.test.html#true">true</a>, which is equivalent of saying - &quot;the value received by the <code>t.true()</code> is truthy&quot;. </p>
							<p>Let&#39;s check out what it all looks like:</p>
							<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { it } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;siesta/index.js&quot;</span>

it(<span class="hljs-string">&#x27;Test section&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
    t.it(<span class="hljs-string">&#x27;Nested test section&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
        t.true(<span class="hljs-literal">true</span>, <span class="hljs-string">&quot;That&#x27;s true&quot;</span>)
    })
})</code></pre>
							<p>For the full list of available assertions please refer to the <a href="../classes/_src_siesta_test_test_.test.html">Test</a> class documentation. Note, that <a href="../classes/_src_siesta_test_test_.test.html">Test</a> is a class for isomorphic, cross-platform code, there are also test classes for specific environment, like <a href="../classes/_src_siesta_test_testbrowser_.testbrowser.html">TestBrowser</a>, <a href="../classes/_src_siesta_test_testnodejs_.testnodejs.html">TestNodejs</a>, <a href="../classes/_src_siesta_test_testdeno_.testdeno.html">TestDeno</a>. These specific test classes may add additional assertions.</p>
							<p>Siesta also supports the so-called &quot;BDD expectations syntax&quot;, for creating assertions. In this syntax, assertion consists from the 2 chained calls. The 1st call is <a href="../classes/_src_siesta_test_test_.test.html#expect">t.expect(receivedValue)</a> which should be provided with the &quot;received&quot; value. This call returns an instance of <a href="../classes/_src_siesta_test_expectation_.expectation.html">Expectation</a>. The 2nd call, chained with the 1st, is called on that instance, and it creates an actual assertion in the test.</p>
							<p>For example:</p>
							<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { it } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;siesta/index.js&quot;</span>

it(<span class="hljs-string">&#x27;Creating assertions using BDD expectations syntax&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
    t.expect([ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> ]).toEqual([ <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span> ])

    t.expect(<span class="hljs-function">() =&gt;</span> {}).not.toThrow()
})</code></pre>
							<p>For the full list of available expectations, please refer to the <a href="../classes/_src_siesta_test_expectation_.expectation.html">Expectation</a> class documentation.</p>
							<a href="#exported-api" id="exported-api" style="color: inherit; text-decoration: none;">
								<h1>Exported API</h1>
							</a>
							<p>Siesta supports 3 target environments for running tests - browsers, Node.js and Deno. The code, written for one environment very probably won&#39;t work in another and even throw an exception in it. Therefore, if your test suite target a specific environment, you need to import the Siesta API from the appropriate file.</p>
							<p>For browser environment, import the API from the <code>siesta/browser.js</code> entry file:</p>
							<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { it } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;siesta/browser.js&quot;</span>

it(<span class="hljs-string">&#x27;Browser test&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
})</code></pre>
							<p>For Node.js environment, import the API from the <code>siesta/nodejs.js</code> entry file:</p>
							<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { it } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;siesta/nodejs.js&quot;</span>

it(<span class="hljs-string">&#x27;Node.js test&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
})</code></pre>
							<p>For Deno environment, import the API from the <code>siesta/deno.js</code> entry file:</p>
							<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { it } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;siesta/deno.js&quot;</span>

it(<span class="hljs-string">&#x27;Deno test&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
})</code></pre>
							<p>Finally, if your code is &quot;isomorphic&quot; and does not use any &quot;platform&quot; features except the Ecma specification, use the <code>siesta/index.js</code> entry file. Such tests can be run in all 3 environments.</p>
							<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { it } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;siesta/index.js&quot;</span>

it(<span class="hljs-string">&#x27;Isomorphic test&#x27;</span>, <span class="hljs-keyword">async</span> t =&gt; {
})</code></pre>
							<a href="#further-reading" id="further-reading" style="color: inherit; text-decoration: none;">
								<h1>Further reading</h1>
							</a>
							<p>If you came here as part of the reading one of the <code>Getting started</code> guides, please continue reading there.</p>
							<p>Otherwise, for additional, more advanced information, please refer to the <a href="_src_guides_siesta_test_advanced_siesta_test_advanced_.html#siestatestadvancedguide">Siesta test advanced</a> guide.</p>
							<a href="#copyright-and-license" id="copyright-and-license" style="color: inherit; text-decoration: none;">
								<h1>COPYRIGHT AND LICENSE</h1>
							</a>
							<p>MIT License</p>
							<p>Copyright (c) 2009-2021 Bryntum, Nickolay Platonov</p>
						</div>
					</div>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class="current tsd-kind-module">
						<a href="_src_guides_siesta_test_basics_siesta_test_basics_.html">&quot;src/guides/siesta_<wbr>test_<wbr>basics/siesta_<wbr>test_<wbr>basics&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-variable tsd-parent-kind-module">
						<a href="_src_guides_siesta_test_basics_siesta_test_basics_.html#siestatestbasicsguide" class="tsd-kind-icon">Siesta<wbr>Test<wbr>Basics<wbr>Guide</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
</body>
</html>