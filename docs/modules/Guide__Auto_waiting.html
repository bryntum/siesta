<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Guide: Auto waiting | @bryntum/siesta</title><meta name="description" content="Documentation for @bryntum/siesta"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem(&quot;tsd-theme&quot;) || &quot;os&quot;)</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@bryntum/siesta</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@bryntum/siesta</a></li><li><a href="Guide__Auto_waiting.html">Guide: Auto waiting</a></li></ul><h1>Module Guide: Auto waiting</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Variables</h3><ul class="tsd-index-list"><li class="tsd-kind-variable tsd-parent-kind-module"><a href="Guide__Auto_waiting.html#AutoWaitingGuide" class="tsd-kind-icon">Auto<wbr/>Waiting<wbr/>Guide</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Variables</h2><section class="tsd-panel tsd-member tsd-kind-variable tsd-parent-kind-module"><a id="AutoWaitingGuide" class="tsd-anchor"></a><h3>Auto<wbr/>Waiting<wbr/>Guide</h3><div class="tsd-signature tsd-kind-icon">Auto<wbr/>Waiting<wbr/>Guide<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;&quot;</span><span class="tsd-signature-symbol"> = &#39;&#39;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/b2dd2ac/packages/siesta/src/guides/auto_waiting/auto_waiting.ts#L8">siesta/src/guides/auto_waiting/auto_waiting.ts:8</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">

<a href="#auto-waiting" id="auto-waiting" style="color: inherit; text-decoration: none;">
  <h1>Auto waiting</h1>
</a>
<p>Before performing the user action simulation, Siesta waits for the target element to become &quot;actionable&quot;.
This means it should pass several &quot;actionability&quot; checks.</p>
<p>Depending on the action, the list of the checks is different.</p>

<a href="#actionability-checks" id="actionability-checks" style="color: inherit; text-decoration: none;">
  <h1>Actionability checks</h1>
</a>
<ul>
<li><code>present</code> This check passes, when the <a href="browser._internal_.html#ActionTarget">ActionTarget</a> query resolves to a target DOM element.</li>
<li><code>connected</code> This check passes when the target DOM element becomes <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/isConnected">connected</a> to the DOM tree. For example, the element, newly created with the <code>document.createElement(&#39;div)</code> will fail this check.</li>
<li><code>accessible</code> This check passes, when the target DOM element passes the <code>connected</code> check, has non-empty <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect">client rectangle</a> and is &quot;visible&quot;. Visible here means the element&#39;s <code>display</code> CSS style 
is not <code>none</code> and <code>visibility</code> CSS style is not <code>hidden</code>.</li>
<li><code>visible</code> This check passes, when the target DOM element passes the <code>accessible</code> check, and its <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect">client rectangle</a> has non-empty intersection with the viewport (currently visible 
part of the document). Simply said, this check passes when the target is visible on the page (not scrolled out). 
Note, that if this check fails, Siesta will try to scroll the action point into view and if that will fail too, will continue waiting.</li>
<li><code>stable</code> This check passes, when the target DOM element passes the <code>visible</code> check, and its <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect">client rectangle</a> remains exactly the same for the period of 2 consecutive <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> calls. This basically means, the target should not be moving
and/or resizing on the screen.</li>
<li><code>reachable</code> This check passes, when the target point of the DOM element is directly reachable by the user - it is 
not covered with any other elements, like masks, overlays etc. Note, that it&#39;s usually fine, if the element is covered 
with one of its child elements - this check normally passes in this case too. This behavior is controlled with 
the <code>allowChild</code> option of the <a href="browser._internal_.html#MouseActionOptions">MouseActionOptions</a> object.</li>
</ul>

<a href="#mouse-actions" id="mouse-actions" style="color: inherit; text-decoration: none;">
  <h1>Mouse actions</h1>
</a>
<p>For the element to become &quot;actionable&quot; in the mouse action, it generally needs to pass all the actionability checks from above.</p>
<p>One exception is, however, the case, when mouse action contains an offset outside the target element, for example:</p>
<pre><code class="language-javascript"><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">click</span><span class="hl-0">(</span><span class="hl-4">&#39;#target&#39;</span><span class="hl-0">, [ </span><span class="hl-4">&#39;100% + 5&#39;</span><span class="hl-0">, </span><span class="hl-4">&#39;50%&#39;</span><span class="hl-0"> ]) </span><span class="hl-5">// click 5px to the right of the &#39;#target&#39; element</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">click</span><span class="hl-0">(</span><span class="hl-4">&#39;#target&#39;</span><span class="hl-0">, [ </span><span class="hl-4">&#39;50%&#39;</span><span class="hl-0">, </span><span class="hl-4">&#39;0% - 5&#39;</span><span class="hl-0"> ]) </span><span class="hl-5">// click 5px above the &#39;#target&#39; element</span>
</code></pre>
<p>In this case, Siesta will skip the <code>reachable</code> check for the target element, since the action is not going to happen on any of its points. 
Siesta will wait for the <code>stable</code> check to pass for the target point however - the whatever element is at that location
it should not move/resize.</p>

<a href="#keyboard-actions" id="keyboard-actions" style="color: inherit; text-decoration: none;">
  <h1>Keyboard actions</h1>
</a>
<p>For keyboard actions the only checks that needs to pass are <code>present</code> and <code>connected</code>.</p>

<a href="#copyright-and-license" id="copyright-and-license" style="color: inherit; text-decoration: none;">
  <h1>COPYRIGHT AND LICENSE</h1>
</a>
<p>MIT License</p>
<p>Copyright (c) 2009-2021 Bryntum, Nickolay Platonov</p>
</div></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class="current tsd-kind-module"><a href="Guide__Auto_waiting.html">Guide: <wbr/>Auto waiting</a></li><li class=" tsd-kind-module"><a href="Guide__Getting_started_Deno.html">Guide: <wbr/>Getting started <wbr/>Deno</a></li><li class=" tsd-kind-module"><a href="Guide__Getting_started_Node_js.html">Guide: <wbr/>Getting started <wbr/>Node.js</a></li><li class=" tsd-kind-module"><a href="Guide__Getting_started_browser.html">Guide: <wbr/>Getting started browser</a></li><li class=" tsd-kind-module"><a href="Guide__Siesta_project.html">Guide: <wbr/>Siesta project</a></li><li class=" tsd-kind-module"><a href="Guide__Special_key_names.html">Guide: <wbr/>Special key names</a></li><li class=" tsd-kind-module"><a href="Guide__Testing_advanced.html">Guide: <wbr/>Testing advanced</a></li><li class=" tsd-kind-module"><a href="Guide__Testing_basics.html">Guide: <wbr/>Testing basics</a></li><li class=" tsd-kind-module"><a href="browser.html">browser</a></li><li class=" tsd-kind-module"><a href="deno.html">deno</a></li><li class=" tsd-kind-module"><a href="index.html">index</a></li><li class=" tsd-kind-module"><a href="nodejs.html">nodejs</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-variable tsd-parent-kind-module"><a href="Guide__Auto_waiting.html#AutoWaitingGuide" class="tsd-kind-icon">Auto<wbr/>Waiting<wbr/>Guide</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>