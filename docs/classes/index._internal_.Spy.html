<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Spy | @bryntum/siesta</title><meta name="description" content="Documentation for @bryntum/siesta"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@bryntum/siesta</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@bryntum/siesta</a></li><li><a href="../modules/index.html">index</a></li><li><a href="../modules/index._internal_.html">&lt;internal&gt;</a></li><li><a href="index._internal_.Spy.html">Spy</a></li></ul><h1>Class Spy</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>This class implements a &quot;spy&quot; - function wrapper which tracks its calls. Spy can be installed
instead of a method in some object or can be used standalone.</p>
</div><div><p>Usually you don&#39;t use this class directly, but instead via the test helper methods: <a href="index.Test.html#spyOn">spyOn</a>,
<a href="index.Test.html#createSpy">createSpy</a>, <a href="index.Test.html#createSpyObj">createSpyObj</a>.</p>
<p>Spy can &quot;operate&quot; in several modes, called &quot;strategies&quot;. See <a href="index._internal_.Spy.html#callThrough">callThrough</a>, <a href="index._internal_.Spy.html#callFake">callFake</a>, <a href="index._internal_.Spy.html#stub">stub</a>, <a href="index._internal_.Spy.html#returnValue">returnValue</a>, <a href="index._internal_.Spy.html#throwError">throwError</a> below.
Default one is <a href="index._internal_.Spy.html#callThrough">callThrough</a>.</p>
<p>Note, that spies &quot;belongs&quot; to a test and once the test is completed all, spies that were installed during its execution
will be removed.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><a href="index._internal_.Base.html" class="tsd-signature-type" data-tsd-kind="Class">Base</a><ul class="tsd-hierarchy"><li><span class="target">Spy</span></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section tsd-is-inherited"><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><a href="index._internal_.Spy.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class"><a href="index._internal_.Spy.html#calls" class="tsd-kind-icon">calls</a></li></ul></section><section class="tsd-index-section "><h3>Accessors</h3><ul class="tsd-index-list"><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="index._internal_.Spy.html#and" class="tsd-kind-icon">and</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#callFake" class="tsd-kind-icon">call<wbr/>Fake</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#callThrough" class="tsd-kind-icon">call<wbr/>Through</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="index._internal_.Spy.html#initialize" class="tsd-kind-icon">initialize</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#reset" class="tsd-kind-icon">reset</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#returnValue" class="tsd-kind-icon">return<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#stub" class="tsd-kind-icon">stub</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#throwError" class="tsd-kind-icon">throw<wbr/>Error</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><a href="index._internal_.Spy.html#maybeNew" class="tsd-kind-icon">maybe<wbr/>New</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><a href="index._internal_.Spy.html#new" class="tsd-kind-icon">new</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group tsd-is-inherited"><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">new <wbr/>Spy<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="index._internal_.Base.html">Base</a>.<a href="index._internal_.Base.html#constructor">constructor</a></p></aside><h4 class="tsd-returns-title">Returns <a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="calls" class="tsd-anchor"></a><h3>calls</h3><div class="tsd-signature tsd-kind-icon">calls<span class="tsd-signature-symbol">:</span> <a href="index._internal_.CallsLog.html" class="tsd-signature-type" data-tsd-kind="Class">CallsLog</a><span class="tsd-signature-symbol"> = ...</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L146">siesta/src/siesta/test/Spy.ts:146</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This property contains <a href="index._internal_.CallsLog.html">CallsLog</a> instance, with several helper methods, related to the calls
tracking information. It is available as the property of the spy object and also assigned to the spies wrapper function.</p>
</div><div><p>Example:</p>
<pre><code class="language-ts"><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-9">spy</span><span class="hl-0"> = </span><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">spyOn</span><span class="hl-0">(</span><span class="hl-2">obj</span><span class="hl-0">, </span><span class="hl-4">&#39;someMethod&#39;</span><span class="hl-0">).</span><span class="hl-3">callThrough</span><span class="hl-0">()</span><br/><br/><span class="hl-2">obj</span><span class="hl-0">.</span><span class="hl-3">someMethod</span><span class="hl-0">(</span><span class="hl-7">0</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0">)</span><br/><span class="hl-2">obj</span><span class="hl-0">.</span><span class="hl-3">someMethod</span><span class="hl-0">(</span><span class="hl-7">1</span><span class="hl-0">, </span><span class="hl-7">2</span><span class="hl-0">)</span><br/><br/><span class="hl-5">// available both on spy and wrapper</span><br/><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">expect</span><span class="hl-0">(</span><span class="hl-2">spy</span><span class="hl-0">.</span><span class="hl-2">calls</span><span class="hl-0">.</span><span class="hl-3">any</span><span class="hl-0">()).</span><span class="hl-3">toBe</span><span class="hl-0">(</span><span class="hl-6">true</span><span class="hl-0">)</span><br/><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">expect</span><span class="hl-0">(</span><span class="hl-2">obj</span><span class="hl-0">.</span><span class="hl-2">someMethod</span><span class="hl-0">.</span><span class="hl-2">calls</span><span class="hl-0">.</span><span class="hl-3">count</span><span class="hl-0">()).</span><span class="hl-3">toBe</span><span class="hl-0">(</span><span class="hl-7">2</span><span class="hl-0">)</span><br/><br/><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">expect</span><span class="hl-0">(</span><span class="hl-2">spy</span><span class="hl-0">.</span><span class="hl-2">calls</span><span class="hl-0">.</span><span class="hl-3">first</span><span class="hl-0">()).</span><span class="hl-3">toEqual</span><span class="hl-0">({ </span><span class="hl-2">object :</span><span class="hl-0"> </span><span class="hl-2">obj</span><span class="hl-0">, </span><span class="hl-2">args :</span><span class="hl-0"> [ </span><span class="hl-7">0</span><span class="hl-0">, </span><span class="hl-7">1</span><span class="hl-0"> ], </span><span class="hl-2">returnValue :</span><span class="hl-0"> </span><span class="hl-6">undefined</span><span class="hl-0"> })</span>
</code></pre>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Accessors</h2><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="and" class="tsd-anchor"></a><h3>and</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> and<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L165">siesta/src/siesta/test/Spy.ts:165</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This is just a reference to itself, to add some syntax sugar.</p>
</div><div><p>This property is also assigned to the wrapper function of spy.</p>
<pre><code class="language-ts"><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">spyOn</span><span class="hl-0">(</span><span class="hl-2">obj</span><span class="hl-0">, </span><span class="hl-4">&#39;someMethod&#39;</span><span class="hl-0">).</span><span class="hl-3">callThrough</span><span class="hl-0">()</span><br/><br/><span class="hl-5">// same thing as above</span><br/><span class="hl-2">t</span><span class="hl-0">.</span><span class="hl-3">spyOn</span><span class="hl-0">(</span><span class="hl-2">obj</span><span class="hl-0">, </span><span class="hl-4">&#39;someMethod&#39;</span><span class="hl-0">).</span><span class="hl-2">and</span><span class="hl-0">.</span><span class="hl-3">callThrough</span><span class="hl-0">()</span><br/><br/><span class="hl-5">// returns spy instance</span><br/><span class="hl-2">obj</span><span class="hl-0">.</span><span class="hl-2">someMethod</span><span class="hl-0">.</span><span class="hl-2">and</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="callFake" class="tsd-anchor"></a><h3>call<wbr/>Fake</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">call<wbr/>Fake<span class="tsd-signature-symbol">(</span>func<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Function</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L280">siesta/src/siesta/test/Spy.ts:280</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method makes the spy to call the provided function and return the value from it, instead of the original function.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>func: <span class="tsd-signature-type">Function</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The function to call instead of the original function</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="callThrough" class="tsd-anchor"></a><h3>call<wbr/>Through</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">call<wbr/>Through<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L242">siesta/src/siesta/test/Spy.ts:242</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method makes the spy to also execute the original function it has been installed over. The
value returned from original function is returned from the spy.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a id="initialize" class="tsd-anchor"></a><h3>initialize</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">initialize<span class="tsd-signature-symbol">(</span>props<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="index._internal_.Base.html">Base</a>.<a href="index._internal_.Base.html#initialize">initialize</a></p><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L170">siesta/src/siesta/test/Spy.ts:170</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method applies its 1st argument (if any) to the current instance using <code>Object.assign()</code>.</p>
</div><div><p>Supposed to be overridden in the subclasses to customize the instance creation process.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> props: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a><span class="tsd-signature-symbol">&gt;</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="reset" class="tsd-anchor"></a><h3>reset</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">reset<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L334">siesta/src/siesta/test/Spy.ts:334</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method resets all calls tracking data. Spy will report as it has never been called yet.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="returnValue" class="tsd-anchor"></a><h3>return<wbr/>Value</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">return<wbr/>Value<span class="tsd-signature-symbol">(</span>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L266">siesta/src/siesta/test/Spy.ts:266</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method makes the spy to return the value provided and not execute the original function.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>value: <span class="tsd-signature-type">unknown</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The value that will be returned from the spy.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="stub" class="tsd-anchor"></a><h3>stub</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">stub<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L254">siesta/src/siesta/test/Spy.ts:254</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method makes the spy to just return <code>undefined</code> and not execute the original function.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="throwError" class="tsd-anchor"></a><h3>throw<wbr/>Error</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">throw<wbr/>Error<span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/bryntum/siesta/blob/a50d6be/packages/siesta/src/siesta/test/Spy.ts#L296">siesta/src/siesta/test/Spy.ts:296</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This method makes the spy to throw the specified <code>error</code> value (instead of calling the original function).</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <span class="tsd-signature-type">unknown</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The error value to throw. If it is not an <code>Error</code> instance, it will be passed to <code>Error</code> constructor first.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="index._internal_.Spy.html" class="tsd-signature-type" data-tsd-kind="Class">Spy</a></h4><div><p>This spy instance</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><a id="maybeNew" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> maybe<wbr/>New</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><li class="tsd-signature tsd-kind-icon">maybe<wbr/>New<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>props<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="index._internal_.Base.html">Base</a>.<a href="index._internal_.Base.html#maybeNew">maybeNew</a></p><ul><li>Defined in typescript-mixin-class/src/class/Base.d.ts:46</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This is a type-safe static constructor method, accepting a single argument. If that argument is already an instance
of this class - it is returned right away, otherwise the <a href="index._internal_.Spy.html#new">new</a> constructor is used for instantiation.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">typeof </span><a href="index._internal_.Base.html" class="tsd-signature-type" data-tsd-kind="Class">Base</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> props: <span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><a id="new" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagStatic">Static</span> new</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><li class="tsd-signature tsd-kind-icon">new<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>props<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="index._internal_.Base.html">Base</a>.<a href="index._internal_.Base.html#new">new</a></p><ul><li>Defined in typescript-mixin-class/src/class/Base.d.ts:40</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>This is a type-safe static constructor method, accepting a single argument, with the object, corresponding to the
class properties. It will generate a compilation error, if unknown property is provided.</p>
</div><div><p>For example:</p>
<pre><code class="language-ts"><span class="hl-6">class</span><span class="hl-0"> </span><span class="hl-8">MyClass</span><span class="hl-0"> </span><span class="hl-6">extends</span><span class="hl-0"> </span><span class="hl-8">Base</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">prop</span><span class="hl-0">     : </span><span class="hl-8">string</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-6">const</span><span class="hl-0"> </span><span class="hl-9">instance</span><span class="hl-0"> : </span><span class="hl-8">MyClass</span><span class="hl-0"> = </span><span class="hl-2">MyClass</span><span class="hl-0">.</span><span class="hl-3">new</span><span class="hl-0">({ </span><span class="hl-2">prop :</span><span class="hl-0"> </span><span class="hl-4">&#39;prop&#39;</span><span class="hl-0">, </span><span class="hl-2">wrong :</span><span class="hl-0"> </span><span class="hl-7">11</span><span class="hl-0"> })</span>
</code></pre>
<p>will produce:</p>
<pre><code><span class="hl-10">TS2345</span><span class="hl-0">: </span><span class="hl-2">Argument</span><span class="hl-0"> </span><span class="hl-6">of</span><span class="hl-0"> </span><span class="hl-2">type</span><span class="hl-0"> </span><span class="hl-4">&#39;{ prop: string; wrong: number; }&#39;</span><span class="hl-0"> </span><span class="hl-2">is</span><span class="hl-0"> </span><span class="hl-2">not</span><span class="hl-0"> </span><span class="hl-2">assignable</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">parameter</span><span class="hl-0"> </span><span class="hl-6">of</span><span class="hl-0"> </span><span class="hl-2">type</span><span class="hl-0"> </span><span class="hl-4">&#39;Partial&lt;MyClass&gt;&#39;</span><span class="hl-0">.</span><br/><span class="hl-8">Object</span><span class="hl-0"> </span><span class="hl-2">literal</span><span class="hl-0"> </span><span class="hl-2">may</span><span class="hl-0"> </span><span class="hl-2">only</span><span class="hl-0"> </span><span class="hl-2">specify</span><span class="hl-0"> </span><span class="hl-2">known</span><span class="hl-0"> </span><span class="hl-2">properties</span><span class="hl-0">, </span><span class="hl-2">and</span><span class="hl-0"> </span><span class="hl-4">&#39;wrong&#39;</span><span class="hl-0"> </span><span class="hl-2">does</span><span class="hl-0"> </span><span class="hl-2">not</span><span class="hl-0"> </span><span class="hl-2">exist</span><span class="hl-0"> </span><span class="hl-6">in</span><span class="hl-0"> </span><span class="hl-2">type</span><span class="hl-0"> </span><span class="hl-4">&#39;Partial&lt;MyClass&gt;&#39;</span>
</code></pre>
<p>The only thing this constructor does is create an instance and call the <a href="index._internal_.Spy.html#initialize">initialize</a> method on it, forwarding
the first argument. The customization of instance is supposed to be performed in that method.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>T<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">typeof </span><a href="index._internal_.Base.html" class="tsd-signature-type" data-tsd-kind="Class">Base</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> props: <span class="tsd-signature-type">Partial</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">InstanceType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">T</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Auto_waiting.html">Guide: <wbr/>Auto waiting</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Getting_started_Deno.html">Guide: <wbr/>Getting started <wbr/>Deno</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Getting_started_Node_js.html">Guide: <wbr/>Getting started <wbr/>Node.js</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Getting_started_Sencha.html">Guide: <wbr/>Getting started <wbr/>Sencha</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Getting_started_browser.html">Guide: <wbr/>Getting started browser</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Reports.html">Guide: <wbr/>Reports</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Siesta_project.html">Guide: <wbr/>Siesta project</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Special_key_names.html">Guide: <wbr/>Special key names</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Testing_advanced.html">Guide: <wbr/>Testing advanced</a></li><li class=" tsd-kind-module"><a href="../modules/Guide__Testing_basics.html">Guide: <wbr/>Testing basics</a></li><li class=" tsd-kind-module"><a href="../modules/browser.html">browser</a></li><li class=" tsd-kind-module"><a href="../modules/deno.html">deno</a></li><li class="current tsd-kind-module"><a href="../modules/index.html">index</a><ul><li class="current tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/index._internal_.html">&lt;internal&gt;</a></li></ul></li><li class=" tsd-kind-module"><a href="../modules/nodejs.html">nodejs</a></li><li class=" tsd-kind-module"><a href="../modules/sencha.html">sencha</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-namespace"><a href="index._internal_.Spy.html" class="tsd-kind-icon">Spy</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><a href="index._internal_.Spy.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="index._internal_.Spy.html#calls" class="tsd-kind-icon">calls</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="index._internal_.Spy.html#and" class="tsd-kind-icon">and</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#callFake" class="tsd-kind-icon">call<wbr/>Fake</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#callThrough" class="tsd-kind-icon">call<wbr/>Through</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-overwrite"><a href="index._internal_.Spy.html#initialize" class="tsd-kind-icon">initialize</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#reset" class="tsd-kind-icon">reset</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#returnValue" class="tsd-kind-icon">return<wbr/>Value</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#stub" class="tsd-kind-icon">stub</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="index._internal_.Spy.html#throwError" class="tsd-kind-icon">throw<wbr/>Error</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><a href="index._internal_.Spy.html#maybeNew" class="tsd-kind-icon">maybe<wbr/>New</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter tsd-is-inherited tsd-is-static"><a href="index._internal_.Spy.html#new" class="tsd-kind-icon">new</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>